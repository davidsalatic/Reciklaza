@model Reciklaza.Data.Models.ReciklaznoMesto

@{
    ViewBag.Title = "Detalji lokacije - " + Model.Naziv;
}

<div id="view-reciklaznomesto">
    <div class="container">
        <div style="margin-bottom:40%;margin-top:5%;">
            <div class="card text-center" style="margin-top:10%;">
                <div class="card-header" style="padding-top:3px;">
                    <div class="col-md-10 text-center">
                        <span style="font-size:30pt">
                            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "@Html.DisplayFor(model => model.Naziv)"
                        </span>
                    </div>
                    <div class="col-md-2">
                            <form name="calculator">
                                <h5>Mini kalkulator</h5>
                                <div class="form-group"><img src="~/images/icon-kg.png" width="16" height="16" /><input name="userInput" type="number" style="width:100px;"  placeholder="Kolicina(kg)" oninput="izracunajZaradu()" /></div>
                                <div class="form-group" ><img src="~/images/icon-profit.png" width="16" height="16" /><input name="zarada" value="" type="number" placeholder="Zarada" style="width:100px;" oninput="izracunajKilazu()" /></div>
                            </form>
                    </div>
                </div>
                <div class="card-body">
                    <h3 class="card-title:"><img src="~/images/icon-city.png" />@Html.DisplayFor(model => model.Grad)</h3>

                    <p class="card-text">
                        <h4><img src="~/images/icon-map.png" />@Html.DisplayNameFor(model => model.Adresa): @Html.DisplayFor(model => model.Adresa)</h4>
                        <h4><img src="~/images/icon-phone.png" />@Html.DisplayNameFor(model => model.Telefon): @Html.DisplayFor(model => model.Telefon)</h4>
                        <h4><img src="~/images/icon-email.png" />@Html.DisplayNameFor(model => model.Email): @Html.DisplayFor(model => model.Email)</h4>
                        <h4><img src="~/images/icon-website.png" />@Html.DisplayNameFor(model => model.Website): <a href="http://@Model.Website">@Html.DisplayFor(model => model.Website)</a></h4>
                        <h4>
                            <img src="~/images/icon-material.png" />@Html.DisplayNameFor(model => model.NazivMaterijala): @Html.DisplayFor(model => model.NazivMaterijala)
                            @{
                                if (Model.NazivMaterijala.ToLower().Substring(0, 4) == "papi")
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-paper.png")" />
                                }
                                else if (Model.NazivMaterijala.ToLower().Substring(0, 4) == "plas")
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-plastic.png")" />
                                }
                                else if (Model.NazivMaterijala.ToLower().Substring(0, 4) == "stak")
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-glass.png")" />
                                }
                                else if (Model.NazivMaterijala.ToLower().Substring(0, 4) == "meta" || Model.NazivMaterijala.ToLower().Substring(0, 4) == "gvoz" || Model.NazivMaterijala.ToLower().Substring(0, 4) == "alum")
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-metal.png")" />
                                }
                                else if (Model.NazivMaterijala.ToLower().Substring(0, 4) == "elek")
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-electronic.png")" />
                                }
                                else if (Model.NazivMaterijala.ToLower().Substring(0, 3) == "hem")
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-chemical.png")" />
                                }
                                else
                                {
                                    <img height="20" width="20" alt="Image" src="@Url.Content("~/images/icon-default.png")" />
                                }
                            }
                        </h4>
                        <h4><img src="~/images/icon-money.png" />@Html.DisplayNameFor(model => model.CenaPoKg): @Html.DisplayFor(model => model.CenaPoKg) din/kg</h4>
                    </p>
                    <a href="/ReciklaznoMesto/Index" class="btn btn-success btn-lg" style="margin-bottom:5px;">Vrati me na listu</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function izracunajZaradu() {
        document.calculator.zarada.value = document.calculator.userInput.value * @Model.CenaPoKg;
    }
    function izracunajKilazu() {
        document.calculator.userInput.value = document.calculator.zarada.value / @Model.CenaPoKg;
    }
</script>